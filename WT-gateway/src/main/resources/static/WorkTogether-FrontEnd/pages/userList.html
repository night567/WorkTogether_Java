<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>团队协作平台</title>
    <link rel="stylesheet" href="../css/userList.css">
    <script src="https://kit.fontawesome.com/d9129f72c7.js" crossorigin="anonymous"></script>
    <script src="../js/userList.js"></script>
    <!-- <script src="../js/selectMultip.js"></script> -->
</head>

<body>
    <div class="sidebar">
        <!-- Sidebar content as previous with icons using Font Awesome -->
        <ul>
            <li class="submenu">
                <a href="#"><i class="fas fa-shield-alt"></i> 权限 <i class="fas fa-chevron-right arrow"></i></a>
                <ul class="nested">
                    <li><a href="userList.html"><i class="fas fa-users"></i> 用户列表</a></li>
                    <li><a href="role.html"><i class="fas fa-user-tag"></i> 角色列表</a></li>
                    <li><a href="list.html"><i class="fas fa-list"></i> 菜单列表</a></li>
                    <li><a href="source.html"><i class="fas fa-server"></i> 资源列表</a></li>
                </ul>
            </li>
            <!-- Add other submenu items here -->
        </ul>
    </div>
    <div class="top-bar">
        <div class="breadcrumbs">首页 / 权限 / 用户列表</div>
        <div class="teamwork-icon"><i class="fas fa-users-cog"></i></div>
    </div>
    <div class="content">
        <div class="search-filter-box">
            <div class="search-box">
                <i class="fas fa-search"></i>
                <input type="text" placeholder="输入用户名">
            </div>
            <button class="btn-primary">查询搜索</button>
        </div>
        <div class="separator"></div>
        <div class="data-list-box">
            <div class="data-list-title"><i class="fas fa-list"></i> 数据列表</div>
            <!-- <button class="btn-secondary">添加</button> -->
        </div>
        <div class="separator"></div>
        <table>
            <!-- Table structure and data -->
            <thead>
                <tr>
                    <th>ID</th>
                    <th>用户名</th>
                    <th>邮箱</th>
                    <th>注册时间</th>
                    <th>最后登录</th>
                    <th>是否启用</th>
                    <th>操作</th>
                </tr>
            </thead>
            <tbody>
                <!-- Sample row -->
                <tr>
                    <td>1</td>
                    <td>John Doe</td>
                    <td>john@example.com</td>
                    <td>2022-01-16</td>
                    <td>2024-03-22</td>
                    <td>
                        <input class="ios-switch" type="checkbox">
                    </td>
                    <td class="button-container">
                        <button class="assign_roles">分配角色</button>
                        <button class="edit_button">编辑</button>
                        <button class="delete_button">删除</button>
                    </td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>Tom Doe</td>
                    <td>tom@example.com</td>
                    <td>2022-01-22</td>
                    <td>2024-03-30</td>
                    <td>
                        <input class="ios-switch" type="checkbox">
                    </td>
                    <td class="button-container">
                        <button class="assign_roles">分配角色</button>
                        <button class="edit_button">编辑</button>
                        <button class="delete_button">删除</button>
                    </td>
                </tr>
                <!-- Repeat rows as needed -->
            </tbody>
        </table>

        <div class="shadow" style="display: none;">

            <div class="popup">
                <div class="poptitle">分配角色</div>
                <div class="poptips">
                    <select id="roles" multip="" style="height: 25px; width: 100%; border: 1px solid #dcdfe6;" tip="">
                        <option value>--请选择--</option>
                        <option value="1">管理员</option>
                        <option value="2">经理</option>
                        <option value="3">部长</option>
                        <option value="4">组长</option>
                        <option value="5">测试员</option>
                        <option hidden="" value=""></option>
                    </select>
                    <!-- <select id="22" multip="" style="width:180px;height: 30px;margin-left: 200px" tip="">
                        <option value="" style="">---请选择---</option>
                        <option value="1" style="">薯片</option>
                        <option value="2" style="">大豆油</option>
                        <option value="3" style="">花生</option>
                        <option hidden="" value=""></option>
                    </select> -->
                    <script>
                        selectMultip.register();
                        //动态渲染
                        // selectMultip.reload("roles", data);
                    </script>
                </div>
                <!-- <div class="popbutton"> -->
                <button class="popcancel">取消</button>
                <button id="pconfig" class="popconfig">确定</button>
                <!-- </div> -->
            </div>

        </div>
    </div>
    <!-- Rest of the content and possibly scripts -->
</body>

<script>
    // 获取分配角色按钮和shadow元素
    const assignedButtons = document.querySelectorAll('.assign_roles');
    const shadowElement = document.querySelector('.shadow');
    //点击取消按钮时，shadow元素将被隐藏，用户输入的内容将保留在输入框中
    document.querySelector('.popcancel').addEventListener('click', function () {
        // 隐藏shadow元素
        shadowElement.style.display = 'none';
    });
    document.querySelector('.popconfig').addEventListener('click', function () {
        // 隐藏shadow元素
        shadowElement.style.display = 'none';
    });
    // 为每个分配角色按钮都添加点击事件处理程序
    assignedButtons.forEach(button => {
        button.addEventListener('click', function () {
            // 显示shadow元素
            shadowElement.style.display = 'flex';
        });
    });
</script>

</html>